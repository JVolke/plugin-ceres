{"version":3,"sources":["webpack:///./resources/js/src/app/components/item/ItemImageCarousel.vue?55b3","webpack:///resources/js/src/app/components/item/ItemImageCarousel.vue","webpack:///./resources/js/src/app/components/item/ItemImageCarousel.vue?a015","webpack:///./resources/js/src/app/components/item/ItemImageCarousel.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","itemscope","itemtype","ref","staticClass","_l","singleImages","image","href","url","alt","getAltText","title","getImageName","_v","showThumbs","id","carouselImages","imagePreview","index","on","click","$event","goTo","class","active","currentItem","_e","_withStripped","component","options","__file"],"mappings":"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","file":"chunks/ceres-35.min.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { itemscope: \"\", itemtype: \"http://schema.org/Thing\" } },\n    [\n      _c(\n        \"div\",\n        {\n          ref: \"single\",\n          staticClass: \"single-carousel owl-carousel owl-theme owl-single-item\"\n        },\n        _vm._l(_vm.singleImages, function(image) {\n          return _c(\"div\", { staticClass: \"prop-1-1\" }, [\n            _c(\n              \"a\",\n              {\n                attrs: {\n                  href: image.url,\n                  \"data-lightbox\": \"single-big-image-gallery\"\n                }\n              },\n              [\n                _c(\"lazy-img\", {\n                  attrs: {\n                    \"image-url\": image.url,\n                    alt: _vm.getAltText(image),\n                    title: _vm.getImageName(image)\n                  }\n                })\n              ],\n              1\n            )\n          ])\n        }),\n        0\n      ),\n      _vm._v(\" \"),\n      _vm.showThumbs\n        ? _c(\n            \"div\",\n            {\n              ref: \"thumbs\",\n              staticClass: \"owl-thumbs owl-carousel owl-theme owl-single-item\",\n              attrs: { id: \"thumb-carousel\" }\n            },\n            _vm._l(_vm.carouselImages, function(imagePreview, index) {\n              return _c(\"div\", { staticClass: \"prop-1-1\" }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"image-container\",\n                    on: {\n                      click: function($event) {\n                        return _vm.goTo(index)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"lazy-img\", {\n                      staticClass: \"owl-thumb border-appearance\",\n                      class: { active: _vm.currentItem === index },\n                      attrs: {\n                        \"image-url\": imagePreview.url,\n                        alt: _vm.getAltText(imagePreview),\n                        title: _vm.getImageName(imagePreview)\n                      }\n                    })\n                  ],\n                  1\n                )\n              ])\n            }),\n            0\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n    <div itemscope itemtype=\"http://schema.org/Thing\">\r\n        <div class=\"single-carousel owl-carousel owl-theme owl-single-item\" ref=\"single\">\r\n            <div v-for=\"image in singleImages\" class=\"prop-1-1\">\r\n                <a :href=\"image.url\" data-lightbox=\"single-big-image-gallery\">\r\n                    <lazy-img :image-url=\"image.url\" :alt=\"getAltText(image)\" :title=\"getImageName(image)\"></lazy-img>\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"showThumbs\" id=\"thumb-carousel\" class=\"owl-thumbs owl-carousel owl-theme owl-single-item\" ref=\"thumbs\">\r\n            <div class=\"prop-1-1\" v-for=\"(imagePreview, index) in carouselImages\">\r\n                <div class=\"image-container\" @click=\"goTo(index)\">\r\n                    <lazy-img\r\n                        class=\"owl-thumb border-appearance\"\r\n                        v-bind:class=\"{ 'active': currentItem === index}\"\r\n                        :image-url=\"imagePreview.url\"\r\n                        :alt=\"getAltText(imagePreview)\"\r\n                        :title=\"getImageName(imagePreview)\">\r\n                    </lazy-img>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { isNullOrUndefined } from \"../../helper/utils\";\r\nimport \"owl.carousel\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n    props: {\r\n        maxQuantity:\r\n        {\r\n            type: Number,\r\n            default: 10\r\n        },\r\n        imageUrlAccessor:\r\n        {\r\n            type: String,\r\n            default: \"url\"\r\n        },\r\n        showThumbs:\r\n        {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        showDots:\r\n        {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        animationStyle:\r\n        {\r\n            type: String,\r\n            default: \"standard\"\r\n        },\r\n        pluginPath:\r\n        {\r\n            type: String,\r\n            default: \"\"\r\n        }\r\n    },\r\n\r\n    data()\r\n    {\r\n        return {\r\n            currentItem: 0\r\n        };\r\n    },\r\n\r\n    computed:\r\n    {\r\n        carouselImages()\r\n        {\r\n            return this.orderByPosition(\r\n                this.$options.filters.itemImages(\r\n                    this.currentVariation.documents[0].data.images,\r\n                    \"urlPreview\"\r\n                )\r\n            ).slice(0, this.maxQuantity);\r\n        },\r\n\r\n        singleImages()\r\n        {\r\n            return this.orderByPosition(\r\n                this.$options.filters.itemImages(\r\n                    this.currentVariation.documents[0].data.images,\r\n                    this.imageUrlAccessor\r\n                )\r\n            ).slice(0, this.maxQuantity);\r\n        },\r\n\r\n        ...mapState({\r\n            currentVariation: state => state.item.variation\r\n        })\r\n    },\r\n\r\n    watch: {\r\n        currentVariation:\r\n        {\r\n            handler(val, oldVal)\r\n            {\r\n                if (val !== oldVal)\r\n                {\r\n                    setTimeout(() =>\r\n                    {\r\n                        this.reInitialize();\r\n                    }, 1);\r\n                }\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    created()\r\n    {\r\n        this.loadLightbox();\r\n    },\r\n\r\n    mounted()\r\n    {\r\n        this.$nextTick(() =>\r\n        {\r\n            this.initCarousel();\r\n            this.initThumbCarousel();\r\n        });\r\n    },\r\n\r\n    methods:\r\n    {\r\n        getImageCount()\r\n        {\r\n            return this.carouselImages.length > this.maxQuantity ? this.maxQuantity : this.carouselImages.length;\r\n        },\r\n\r\n        reInitialize()\r\n        {\r\n            const $owl = $(this.$refs.single);\r\n\r\n            $owl.trigger(\"destroy.owl.carousel\");\r\n            $owl.html($owl.find(\".owl-stage-outer\").html()).removeClass(\"owl-loaded\");\r\n            $owl.find(\".owl-item\").remove();\r\n\r\n            const $thumbs = $(this.$refs.thumbs);\r\n\r\n            $thumbs.trigger(\"destroy.owl.carousel\");\r\n            $thumbs.html($thumbs.find(\".owl-stage-outer\").html()).removeClass(\"owl-loaded\");\r\n            $thumbs.find(\".owl-item\").remove();\r\n\r\n            this.initCarousel();\r\n            this.initThumbCarousel();\r\n        },\r\n\r\n        initCarousel()\r\n        {\r\n            const imageCount = this.getImageCount();\r\n            const carouselSettings = {\r\n                autoHeight       : true,\r\n                dots             : this.showDots,\r\n                items            : 1,\r\n                lazyLoad         : true,\r\n                loop             : true,\r\n                margin           : 10,\r\n                mouseDrag        : imageCount > 1,\r\n                nav              : imageCount > 1,\r\n                navClass         : [\r\n                    \"owl-single-item-nav left carousel-control\",\r\n                    \"owl-single-item-nav right carousel-control\"\r\n                ],\r\n                navContainerClass: \"\",\r\n                navText          : [\r\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i>\",\r\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-right\\\" aria-hidden=\\\"true\\\"></i>\"\r\n                ],\r\n                smartSpeed       : 350,\r\n                onChanged: event =>\r\n                {\r\n                    const $thumb = $(this.$refs.thumbs);\r\n\r\n                    $thumb.trigger(\"to.owl.carousel\", [\r\n                        event.page.index,\r\n                        350\r\n                    ]);\r\n                }\r\n            };\r\n\r\n            if (this.animationStyle !== \"standard\")\r\n            {\r\n                carouselSettings.animateOut = this.animationStyle;\r\n            }\r\n\r\n            $(this.$refs.single).owlCarousel(carouselSettings);\r\n\r\n            if (!isNullOrUndefined(window.lightbox))\r\n            {\r\n                lightbox.option({\r\n                    wrapAround: true\r\n                });\r\n                lightbox.imageCountLabel = (current, total) =>\r\n                {\r\n                    if (isNullOrUndefined(imageCount) || imageCount <= 1)\r\n                    {\r\n                        return \"\";\r\n                    }\r\n                    current -= ((total - imageCount) / 2);\r\n                    while (current <= 0)\r\n                    {\r\n                        current += imageCount;\r\n                    }\r\n                    while (current > imageCount)\r\n                    {\r\n                        current -= imageCount;\r\n                    }\r\n                    return this.$translate(\"Ceres::Template.singleItemImagePreviewCaption\", { current: current, total: imageCount });\r\n                };\r\n\r\n                const originalFn = lightbox.changeImage;\r\n\r\n                lightbox.changeImage = imageNumber =>\r\n                {\r\n                    if (lightbox.currentImageIndex === 0 && imageNumber === lightbox.album.length - 1)\r\n                    {\r\n                        imageNumber--;\r\n                    }\r\n                    else if (lightbox.currentImageIndex === lightbox.album.length - 1 && imageNumber === 0)\r\n                    {\r\n                        imageNumber++;\r\n                    }\r\n                    return originalFn.call(lightbox, imageNumber);\r\n                };\r\n            }\r\n\r\n            $(this.$refs.single).on(\"changed.owl.carousel\", event =>\r\n            {\r\n                this.currentItem = event.page.index;\r\n            });\r\n        },\r\n\r\n        initThumbCarousel()\r\n        {\r\n            $(this.$refs.thumbs).owlCarousel({\r\n                autoHeight       : true,\r\n                dots             : false,\r\n                items            : 5,\r\n                lazyLoad         : true,\r\n                loop             : false,\r\n                margin           : 10,\r\n                mouseDrag        : false,\r\n                center           : false,\r\n                nav              : true,\r\n                navClass         : [\r\n                    \"owl-single-item-nav left carousel-control\",\r\n                    \"owl-single-item-nav right carousel-control\"\r\n                ],\r\n                navContainerClass: \"\",\r\n                navText          : [\r\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i>\",\r\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-right\\\" aria-hidden=\\\"true\\\"></i>\"\r\n                ],\r\n                smartSpeed       : 350\r\n            });\r\n        },\r\n\r\n        goTo(index)\r\n        {\r\n            const $owl = $(this.$refs.single);\r\n\r\n            $owl.trigger(\"to.owl.carousel\", [\r\n                index,\r\n                350\r\n            ]);\r\n        },\r\n\r\n        orderByPosition(list)\r\n        {\r\n            return list.sort(\r\n                (entryA, entryB) =>\r\n                {\r\n                    if (entryA.position > entryB.position)\r\n                    {\r\n                        return 1;\r\n                    }\r\n                    if (entryA.position < entryB.position)\r\n                    {\r\n                        return -1;\r\n                    }\r\n\r\n                    return 0;\r\n                });\r\n        },\r\n\r\n        getAltText(image)\r\n        {\r\n            return image && image.alternate ? image.alternate : this.$options.filters.itemName(this.currentVariation.documents[0].data);\r\n        },\r\n\r\n        getImageName(image)\r\n        {\r\n            return image && image.name ? image.name : this.$options.filters.itemName(this.currentVariation.documents[0].data);\r\n        },\r\n\r\n        loadLightbox()\r\n        {\r\n            const scriptSource = this.pluginPath + \"/js/dist/lightbox.min.js\";\r\n            const script = document.createElement(\"script\");\r\n\r\n            script.type = \"text/javascript\";\r\n            script.src = scriptSource;\r\n            script.addEventListener(\"load\", () => this.reInitialize(), false);\r\n            script.addEventListener(\"error\", () => console.warn(\"lightbox could not be initialized\"), false);\r\n            document.body.appendChild(script);\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemImageCarousel.vue?vue&type=template&id=5285279e&\"\nimport script from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Megaport\\\\Documents\\\\Git\\\\plugin-ceres\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5285279e')) {\n      api.createRecord('5285279e', component.options)\n    } else {\n      api.reload('5285279e', component.options)\n    }\n    module.hot.accept(\"./ItemImageCarousel.vue?vue&type=template&id=5285279e&\", function () {\n      api.rerender('5285279e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/item/ItemImageCarousel.vue\"\nexport default component.exports"],"sourceRoot":""}