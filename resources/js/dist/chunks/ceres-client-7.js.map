{"version":3,"sources":["webpack:///resources/js/src/app/components/customer/AcceptPrivacyPolicyCheck.vue","webpack:///resources/js/src/app/components/customer/Registration.vue","webpack:///./resources/js/src/app/components/customer/AcceptPrivacyPolicyCheck.vue?4617","webpack:///./resources/js/src/app/components/customer/Registration.vue?bb57","webpack:///./resources/js/src/app/components/customer/AcceptPrivacyPolicyCheck.vue","webpack:///./resources/js/src/app/components/customer/AcceptPrivacyPolicyCheck.vue?6453","webpack:///./resources/js/src/app/components/customer/AcceptPrivacyPolicyCheck.vue?3870","webpack:///./resources/js/src/app/components/customer/Registration.vue","webpack:///./resources/js/src/app/components/customer/Registration.vue?b3ff","webpack:///./resources/js/src/app/components/customer/Registration.vue?874c"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAWA;AAEA,qCAFA;AAIA;AACA,kBADA;AAEA;AAFA,GAJA;AASA;AACA,aADA,uBAEA;AACA;AAAA;AAAA;AACA,8DACA,sBADA,wFAEA,oBAFA;AAMA;AAAA;AAAA;AACA;AAXA,GATA;AAuBA,WACA;AACA,kBADA,0BACA,KADA,EAEA;AACA;AACA;AAJA;AAxBA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,sBAFA;AAIA,cACA;AACA,sFADA;AAEA;AAFA,GALA;AAUA,qGAVA;AAYA;AACA,wBADA;AAEA;AAAA;AAAA;AAAA,KAFA;AAGA;AAAA;AAAA;AAAA,KAHA;AAIA,oBAJA;AAKA,oBALA;AAMA,uBANA;AAOA,0BAPA;AAQA;AACA,kBADA;AAEA;AAFA;AARA,GAZA;AA0BA,MA1BA,kBA2BA;AACA;AACA,kBADA;AAEA,wBAFA;AAGA,kBAHA;AAIA;AACA,uBADA;AAEA,qBAFA;AAGA;AAHA,OAJA;AASA,uBATA;AAUA,kCAVA;AAWA,mCAXA;AAYA,mGAZA;AAaA,oEAbA;AAcA,uBAdA;AAeA;AAfA;AAiBA,GA7CA;AA+CA,SA/CA,qBAgDA;AAAA;;AACA,+BACA;AACA,8BACA;AACA;AACA;AACA,KANA;AAOA,GAxDA;AA0DA;AACA;AACA;AACA;AACA,wBAJA,kCAKA;AAAA;;AACA,sHACA,IADA,CACA,0BACA;AACA,qHACA,IADA,CACA,YACA;AACA,qFACA;AACA;AACA,WAHA,MAKA;AACA;AAEA,yFACA;AAAA;AAAA,cADA;;AAGA;AACA;AACA,SAhBA,EAiBA,IAjBA,CAiBA,yBACA;AACA;;AAEA,8KACA;AACA;AACA;;AAEA;;AAEA,4CACA;AACA,yFACA;AAAA;AAAA,cADA;AAGA;;AAEA;;AAEA,qFACA;AACA;AAEA,yFACA;AAAA;AAAA,cADA;AAGA;AACA,SA7CA;AA8CA,OAjDA;AAkDA,KAxDA;AA0DA,wBA1DA,kCA2DA;AAAA,UADA,aACA,uEADA,EACA;AACA;;AADA,iDAGA,aAHA;AAAA;;AAAA;AAGA,4DACA;AAAA,cADA,KACA;AACA;AAEA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;;AAWA;AACA,KAvEA;;AAyEA;AACA;AACA;AACA,oBA5EA,4BA4EA,cA5EA,EA6EA;AAAA;;AACA;AAEA;AAEA;AAEA,0GACA,IADA,CACA,oBACA;AACA;;AAEA,4BACA;AACA;AAAA;AAAA;AAEA,yFACA,kDADA,EAEA,UAFA,CAEA,IAFA;;AAIA,qEACA;AACA;AACA;;AAEA,2DACA;AACA;AACA,WAHA,MAKA;AACA;AACA;AACA,SArBA,MAuBA;AACA,uFACA,6CADA,EAEA,UAFA,CAEA,KAFA;;AAIA;AACA;;AAEA;AACA,OArCA,EAsCA,IAtCA,CAsCA,iBACA;AACA;;AAEA;;AAEA;AACA,OA7CA;AA8CA,KAlIA;;AAoIA;AACA;AACA;AACA,kBAvIA,4BAwIA;AACA,+EACA;AACA;AAEA;AACA;AACA,KA/IA;AAiJA,uBAjJA,qCAkJA;AAAA,UADA,KACA,QADA,KACA;AAAA,UADA,KACA,QADA,KACA;AACA;AACA;AACA,KArJA;;AAuJA;AACA;AACA;AACA;AACA,iBA3JA,2BA4JA;AACA,uBACA;AACA;AACA,uBADA;AAEA,mBAFA;AAGA;AACA;AACA,uBADA;AAEA,0BAFA;AAGA,kCAHA;AAIA;AAJA;AADA;AAHA,SADA;AAaA;AAbA,OADA;;AAiBA,2BACA;AACA;AACA;;AAEA,sCACA;AACA;AACA;;AAEA;AACA,KAzLA;AA2LA,6BA3LA,qCA2LA,KA3LA,EA4LA;AACA;;AAEA,iBACA;AACA;AACA;AACA,KAnMA;AAqMA,2BArMA,qCAsMA;AAAA;;AACA;;AAEA,mFACA;AACA,kCACA,YACA;AACA;AACA,SAJA;AAMA,kCACA,YACA;AACA;AACA,SAJA;AAKA;AACA;AAvNA;AA1DA,G;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,oCAAoC,uBAAuB,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA,sBAAsB,YAAY,mCAAmC,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,qCAAqC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB,qBAAqB;AACtC,mBAAmB,2BAA2B;AAC9C;AACA;AACA,aAAa,oCAAoC,0BAA0B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,2BAA2B,SAAS,0BAA0B,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA,0BAA0B,2CAA2C;AACrE,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA,4BAA4B,wCAAwC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,2CAA2C,sBAAsB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2BAA2B;AAC3B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,wCAAwC,sBAAsB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,+BAA+B,SAAS,kCAAkC,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2CAA2C;AAClE;AACA;AACA;AACA;AACA,0BAA0B,gCAAgC;AAC1D,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,+BAA+B,4BAA4B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,qBAAqB,SAAS,yCAAyC,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAwB;AACvC;AACA;AACA;AACA,0BAA0B,2CAA2C;AACrE;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,4CAA4C;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtXA;AAAA;AAAA;AAAA;AAAuG;AAC3B;AACL;;;AAGvE;AACsG;AACtG,gBAAgB,2GAAU;AAC1B,EAAE,8FAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAgN,CAAgB,4PAAG,EAAC,C;;;;;;;;;;;;ACApO;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAA2F;AAC3B;AACL;;;AAG3D;AACsG;AACtG,gBAAgB,2GAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAoM,CAAgB,gPAAG,EAAC,C;;;;;;;;;;;;ACAxN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"chunks/ceres-client-7.js","sourcesContent":["<template>\r\n    <div class=\"form-check\" :class=\"{ 'error': showError }\">\r\n        <input class=\"form-check-input\" type=\"checkbox\" :id=\"'privacy-policy-accept' + _uid\" :checked=\"value\" @change=\"onValueChanged($event.target.checked)\" data-testing=\"privacy-policy-accept-register\">\r\n        <label class=\"form-check-label\" :for=\"'privacy-policy-accept' + _uid\">\r\n            <span v-html=\"labelHtml\"></span><!--\r\n            --><sup>*</sup>\r\n        </label>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n    name: \"accept-privacy-policy-check\",\r\n\r\n    props: {\r\n        value: Boolean ,\r\n        showError: Boolean\r\n    },\r\n\r\n    computed: {\r\n        labelHtml()\r\n        {\r\n            const contactPrivacyPolicy = this.$translate(\"Ceres::Template.contactPrivacyPolicy\", {\"hyphen\": \"&shy;\"});\r\n            const html = `\r\n                <!----><a href=\"${ App.urls.privacyPolicy }\" target=\"_blank\" class=\"text-appearance\">\r\n                    <span>${ contactPrivacyPolicy }</span>\r\n                </a><!---->\r\n            `;\r\n\r\n            return this.$translate(\"Ceres::Template.contactAcceptPrivacyPolicy\", {policy: html});\r\n        }\r\n    },\r\n\r\n    methods:\r\n    {\r\n        onValueChanged(value)\r\n        {\r\n            this.$emit(\"input\", value);\r\n        }\r\n    }\r\n}\r\n</script>","<template>\r\n    <form class=\"w-100\" autocomplete=\"on\" method=\"post\" @submit.prevent=\"validateRegistration()\" ref=\"registrationForm\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <div class=\"input-unit\" data-validate=\"mail\">\r\n                    <input data-testing=\"mail-register\" type=\"email\" name=\"email\" autocomplete=\"email\" :id=\"'email'+_uid\" v-model=\"username\" data-autofocus>\r\n                    <label :for=\"'email'+_uid\">{{ $translate(\"Ceres::Template.regEmail\") }}*</label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-sm-6\" v-if=\"!guestMode\">\r\n                <div class=\"input-unit\" :class=\"{'no-bottom media-xs-d': modalElement}\" data-validate=\"password\" ref=\"passwordInput\">\r\n                    <popper v-cloak trigger=\"focus\" placement=\"bottom\" ref=\"passwordHint\">\r\n                        <template #handle>\r\n                            <input data-testing=\"password-register\" type=\"password\" name=\"password\" autocomplete=\"new-password\" :id=\"'new-password-' + _uid\" v-model=\"password\">\r\n                        </template>\r\n\r\n                        <template #title>\r\n                            <div>\r\n                                {{ $translate(\"Ceres::Template.regPasswordHintTitle\") }}\r\n                            </div>\r\n                        </template>\r\n\r\n                        <template #content>\r\n                            <ul class=\"pl-3\">\r\n                                <li>{{ $translate(\"Ceres::Template.regPasswordHintLength\") }}</li>\r\n                                <li>{{ $translate(\"Ceres::Template.regPasswordHintDigit\") }}</li>\r\n                                <li>{{ $translate(\"Ceres::Template.regPasswordHintChar\") }}</li>\r\n                            </ul>\r\n                        </template>\r\n                    </popper>\r\n\r\n                    <label :for=\"'new-password-' + _uid\">{{ $translate(\"Ceres::Template.regPassword\") }}*</label>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-sm-6 input-unit-group\" v-if=\"!guestMode\">\r\n                <div class=\"input-unit\" :class=\"{'no-bottom': modalElement}\" data-validate=\"ref\">\r\n                    <input type=\"password\" name=\"password-repeat\" autocomplete=\"new-password\" :id=\"'new-password-repeat-' + _uid\" v-model=\"passwordRepeat\" :data-validate-ref=\"'#new-password-' + _uid\" data-testing=\"repeat-password-register\">\r\n                    <label :for=\"'new-password-repeat-' + _uid\">{{ $translate(\"Ceres::Template.regRepeatPassword\") }}*</label>\r\n                </div>\r\n            </div>\r\n\r\n            <input class=\"honey\" type=\"text\" name=\"username\" autocomplete=\"new-password\" tabindex=\"-1\" v-model=\"honeypot\">\r\n\r\n            <div class=\"col-12\">\r\n                <address-input-group\r\n                    template=\"#vue-address-input-group\"\r\n                    v-if=\"!isSimpleRegistration\"\r\n                    address-type=\"1\"\r\n                    :value=\"billingAddress\"\r\n                    @input=\"setAddressDataField($event)\"\r\n                    :optional-address-fields=\"shownFields\"\r\n                    :required-address-fields=\"requiredFields\"\r\n                    :default-salutation=\"defaultSalutation\">\r\n                    <template #custom-address-fields>\r\n                        <slot name=\"custom-address-fields\"></slot>\r\n                    </template>\r\n                </address-input-group>\r\n            </div>\r\n\r\n            <div class=\"col-12\" v-if=\"enableConfirmingPrivacyPolicy\">\r\n                <accept-privacy-policy-check\r\n                        class=\"mt-3 mb-0\"\r\n                        v-model=\"privacyPolicyAccepted\"\r\n                        @input=\"privacyPolicyValueChanged($event)\"\r\n                        :show-error=\"privacyPolicyShowError\">\r\n                </accept-privacy-policy-check>\r\n            </div>\r\n        </div>\r\n        <div class=\"border-top mt-2 text-right\">\r\n            <slot name=\"extend-overlay-buttons\"></slot>\r\n\r\n            <button :disabled=\"isDisabled\" class=\"btn btn-appearance btn-primary btn-medium mt-3\" :class=\"buttonSizeClass\" data-testing=\"register-submit\">\r\n                {{ $translate(\"Ceres::Template.regRegister\") }}\r\n                <icon icon=\"user-plus\" class=\"default-float\" :loading=\"isDisabled\"></icon>\r\n            </button>\r\n        </div>\r\n\r\n        <recaptcha v-if=\"!!googleRecaptchaApiKey && (modalShown || !isSimpleRegistration)\"></recaptcha>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport ValidationService from \"../../services/ValidationService\";\r\nimport { navigateTo } from \"../../services/UrlService\";\r\nimport { executeReCaptcha } from \"../../helper/executeReCaptcha\";\r\nimport { isNullOrUndefined, isDefined } from \"../../helper/utils\";\r\nimport { ButtonSizePropertyMixin } from \"../../mixins/buttonSizeProperty.mixin\";\r\nimport AddressInputGroup from \"./AddressInputGroup.vue\";\r\nimport ApiService from \"../../services/ApiService\";\r\nimport NotificationService from \"../../services/NotificationService\";\r\nimport ModalService from \"../../services/ModalService\";\r\nimport AcceptPrivacyPolicyCheck from \"./AcceptPrivacyPolicyCheck.vue\";\r\n\r\nexport default {\r\n\r\n    name: \"registration\",\r\n\r\n    components:\r\n    {\r\n        AddressInputGroup,\r\n        AcceptPrivacyPolicyCheck\r\n    },\r\n\r\n    mixins: [ButtonSizePropertyMixin],\r\n\r\n    props: {\r\n        modalElement: String,\r\n        guestMode: { type: Boolean, default: false },\r\n        isSimpleRegistration: { type: Boolean, default: false },\r\n        template: String,\r\n        backlink: String,\r\n        shownFields: Object,\r\n        requiredFields: Object,\r\n        defaultSalutation:  {\r\n            type: String,\r\n            default: App.config.addresses.defaultSalutation\r\n        }\r\n    },\r\n\r\n    data()\r\n    {\r\n        return {\r\n            password      : \"\",\r\n            passwordRepeat: \"\",\r\n            username      : \"\",\r\n            billingAddress: {\r\n                countryId: null,\r\n                stateId: null,\r\n                gender: this.defaultSalutation\r\n            },\r\n            isDisabled: false,\r\n            privacyPolicyAccepted : false,\r\n            privacyPolicyShowError: false,\r\n            enableConfirmingPrivacyPolicy: App.config.global.registrationRequirePrivacyPolicyConfirmation,\r\n            googleRecaptchaApiKey: App.config.global.googleRecaptchaApiKey,\r\n            modalShown: false,\r\n            honeypot: \"\"\r\n        };\r\n    },\r\n\r\n    mounted()\r\n    {\r\n        this.$nextTick(() =>\r\n        {\r\n            if (this.modalElement)\r\n            {\r\n                this.initModalEventListeners();\r\n            }\r\n        });\r\n    },\r\n\r\n    methods: {\r\n        /**\r\n         * Validate the registration form\r\n         */\r\n        validateRegistration()\r\n        {\r\n            executeReCaptcha(this.$refs.registrationForm)\r\n                .then((recaptchaToken) =>\r\n                {\r\n                    ValidationService.validate(this.$refs.registrationForm)\r\n                        .done(() =>\r\n                        {\r\n                            if (!this.enableConfirmingPrivacyPolicy || this.privacyPolicyAccepted)\r\n                            {\r\n                                this.sendRegistration(recaptchaToken);\r\n                            }\r\n                            else\r\n                            {\r\n                                this.privacyPolicyShowError = true;\r\n\r\n                                NotificationService.error(\r\n                                    this.$translate(\"Ceres::Template.contactAcceptFormPrivacyPolicy\", { hyphen: \"&shy;\" })\r\n                                );\r\n                                this.resetRecaptcha();\r\n                            }\r\n                        })\r\n                        .fail(invalidFields =>\r\n                        {\r\n                            this.resetRecaptcha();\r\n\r\n                            if (!isNullOrUndefined(this.$refs.passwordHint) && invalidFields.indexOf(this.$refs.passwordInput) >= 0)\r\n                            {\r\n                                this.$refs.passwordHint.showPopper();\r\n                            }\r\n\r\n                            const invalidFieldNames = this.getInvalidFieldNames(invalidFields);\r\n\r\n                            if (invalidFieldNames.length > 0)\r\n                            {\r\n                                NotificationService.error(\r\n                                    this.$translate(\"Ceres::Template.checkoutCheckAddressFormFields\", { fields: invalidFieldNames.join(\", \") })\r\n                                );\r\n                            }\r\n\r\n                            ValidationService.markInvalidFields(invalidFields, \"error\");\r\n\r\n                            if (this.enableConfirmingPrivacyPolicy && !this.privacyPolicyAccepted)\r\n                            {\r\n                                this.privacyPolicyShowError = true;\r\n\r\n                                NotificationService.error(\r\n                                    this.$translate(\"Ceres::Template.contactAcceptFormPrivacyPolicy\", { hyphen: \"&shy;\" })\r\n                                );\r\n                            }\r\n                        });\r\n                });\r\n        },\r\n\r\n        getInvalidFieldNames(invalidFields = [])\r\n        {\r\n            const fieldNames = [];\r\n\r\n            for (const field of invalidFields)\r\n            {\r\n                let fieldName = field.lastElementChild.innerHTML.trim();\r\n\r\n                fieldName = fieldName.slice(-1) === \"*\" ? fieldName.slice(0, fieldName.length - 1) : fieldName;\r\n                fieldNames.push(fieldName);\r\n            }\r\n\r\n            return fieldNames;\r\n        },\r\n\r\n        /**\r\n         * Send the registration\r\n         */\r\n        sendRegistration(recaptchaToken)\r\n        {\r\n            const userObject = this.getUserObject();\r\n\r\n            userObject.recaptcha = recaptchaToken;\r\n\r\n            this.isDisabled = true;\r\n\r\n            ApiService.post(\"/rest/io/customer\", userObject)\r\n                .done(response =>\r\n                {\r\n                    ApiService.setToken(response);\r\n\r\n                    if (!response.code)\r\n                    {\r\n                        document.dispatchEvent(new CustomEvent(\"onSignUpSuccess\", { detail: userObject }));\r\n\r\n                        NotificationService.success(\r\n                            this.$translate(\"Ceres::Template.regSuccessful\")\r\n                        ).closeAfter(3000);\r\n\r\n                        if (document.getElementById(this.modalElement) !== null)\r\n                        {\r\n                            ModalService.findModal(document.getElementById(this.modalElement)).hide();\r\n                        }\r\n\r\n                        if (this.backlink !== null && this.backlink)\r\n                        {\r\n                            navigateTo(decodeURIComponent(this.backlink));\r\n                        }\r\n                        else\r\n                        {\r\n                            location.reload();\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        NotificationService.error(\r\n                            this.$translate(\"Ceres::Template.regError\")\r\n                        ).closeAfter(10000);\r\n\r\n                        this.resetRecaptcha();\r\n                    }\r\n\r\n                    this.isDisabled = false;\r\n                })\r\n                .fail((error) =>\r\n                {\r\n                    NotificationService.error(error.error).closeAfter(10000);\r\n\r\n                    this.resetRecaptcha();\r\n\r\n                    this.isDisabled = false;\r\n                });\r\n        },\r\n\r\n        /** \r\n         * Resets recaptcha v2 to make it capable of executing again.\r\n        */\r\n        resetRecaptcha()\r\n        {\r\n            if(App.config.global.googleRecaptchaVersion === 2 && window.grecaptcha)\r\n            {\r\n                const recaptchaId = this.$refs.registrationForm.querySelector(\"[data-recaptcha]\");\r\n\r\n                window.grecaptcha.reset(recaptchaId);\r\n            }\r\n        },\r\n\r\n        setAddressDataField({ field, value })\r\n        {\r\n            this.billingAddress[field] = value;\r\n            this.billingAddress = Object.assign({}, this.billingAddress);\r\n        },\r\n\r\n        /**\r\n         * Handle the user object which is send to the server\r\n         * @returns {{contact: {referrerId: number, typeId: number, options: {typeId: {typeId: number, subTypeId: number, value: *, priority: number}}}, honeypot: string}|{contact: {referrerId: number, typeId: number, password: *, options: {typeId: {typeId: number, subTypeId: number, value: *, priority: number}}}, honeypot: string}}\r\n         */\r\n        getUserObject()\r\n        {\r\n            const userObject =\r\n                {\r\n                    contact: {\r\n                        referrerId: 1,\r\n                        typeId    : 1,\r\n                        options   : {\r\n                            typeId: {\r\n                                typeId   : 2,\r\n                                subTypeId: 4,\r\n                                value    : this.username,\r\n                                priority : 0\r\n                            }\r\n                        }\r\n                    },\r\n                    honeypot: this.honeypot\r\n                };\r\n\r\n            if (!this.guestMode)\r\n            {\r\n                userObject.contact.password = this.password;\r\n            }\r\n\r\n            if (!this.isSimpleRegistration)\r\n            {\r\n                userObject.billingAddress = this.billingAddress;\r\n            }\r\n\r\n            return userObject;\r\n        },\r\n\r\n        privacyPolicyValueChanged(value)\r\n        {\r\n            this.privacyPolicyAccepted = value;\r\n\r\n            if (value)\r\n            {\r\n                this.privacyPolicyShowError = false;\r\n            }\r\n        },\r\n\r\n        initModalEventListeners()\r\n        {\r\n            const modal = ModalService.findModal(document.getElementById(this.modalElement));\r\n\r\n            if (isDefined(modal))\r\n            {\r\n                modal.on(\"show.bs.modal\",\r\n                    () =>\r\n                    {\r\n                        this.modalShown = true;\r\n                    });\r\n\r\n                modal.on(\"hide.bs.modal\",\r\n                    () =>\r\n                    {\r\n                        this.modalShown = false;\r\n                    });\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"form-check\", class: { error: _vm.showError } },\n    [\n      _c(\"input\", {\n        staticClass: \"form-check-input\",\n        attrs: {\n          type: \"checkbox\",\n          id: \"privacy-policy-accept\" + _vm._uid,\n          \"data-testing\": \"privacy-policy-accept-register\"\n        },\n        domProps: { checked: _vm.value },\n        on: {\n          change: function($event) {\n            return _vm.onValueChanged($event.target.checked)\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"label\",\n        {\n          staticClass: \"form-check-label\",\n          attrs: { for: \"privacy-policy-accept\" + _vm._uid }\n        },\n        [\n          _c(\"span\", { domProps: { innerHTML: _vm._s(_vm.labelHtml) } }),\n          _c(\"sup\", [_vm._v(\"*\")])\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"form\",\n    {\n      ref: \"registrationForm\",\n      staticClass: \"w-100\",\n      attrs: { autocomplete: \"on\", method: \"post\" },\n      on: {\n        submit: function($event) {\n          $event.preventDefault()\n          return _vm.validateRegistration()\n        }\n      }\n    },\n    [\n      _c(\"div\", { staticClass: \"row\" }, [\n        _c(\"div\", { staticClass: \"col-sm-12\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"input-unit\", attrs: { \"data-validate\": \"mail\" } },\n            [\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.username,\n                    expression: \"username\"\n                  }\n                ],\n                attrs: {\n                  \"data-testing\": \"mail-register\",\n                  type: \"email\",\n                  name: \"email\",\n                  autocomplete: \"email\",\n                  id: \"email\" + _vm._uid,\n                  \"data-autofocus\": \"\"\n                },\n                domProps: { value: _vm.username },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.username = $event.target.value\n                  }\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"label\", { attrs: { for: \"email\" + _vm._uid } }, [\n                _vm._v(_vm._s(_vm.$translate(\"Ceres::Template.regEmail\")) + \"*\")\n              ])\n            ]\n          )\n        ]),\n        _vm._v(\" \"),\n        !_vm.guestMode\n          ? _c(\"div\", { staticClass: \"col-sm-6\" }, [\n              _c(\n                \"div\",\n                {\n                  ref: \"passwordInput\",\n                  staticClass: \"input-unit\",\n                  class: { \"no-bottom media-xs-d\": _vm.modalElement },\n                  attrs: { \"data-validate\": \"password\" }\n                },\n                [\n                  _c(\"popper\", {\n                    ref: \"passwordHint\",\n                    attrs: { trigger: \"focus\", placement: \"bottom\" },\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"handle\",\n                          fn: function() {\n                            return [\n                              _c(\"input\", {\n                                directives: [\n                                  {\n                                    name: \"model\",\n                                    rawName: \"v-model\",\n                                    value: _vm.password,\n                                    expression: \"password\"\n                                  }\n                                ],\n                                attrs: {\n                                  \"data-testing\": \"password-register\",\n                                  type: \"password\",\n                                  name: \"password\",\n                                  autocomplete: \"new-password\",\n                                  id: \"new-password-\" + _vm._uid\n                                },\n                                domProps: { value: _vm.password },\n                                on: {\n                                  input: function($event) {\n                                    if ($event.target.composing) {\n                                      return\n                                    }\n                                    _vm.password = $event.target.value\n                                  }\n                                }\n                              })\n                            ]\n                          },\n                          proxy: true\n                        },\n                        {\n                          key: \"title\",\n                          fn: function() {\n                            return [\n                              _c(\"div\", [\n                                _vm._v(\n                                  \"\\n                            \" +\n                                    _vm._s(\n                                      _vm.$translate(\n                                        \"Ceres::Template.regPasswordHintTitle\"\n                                      )\n                                    ) +\n                                    \"\\n                        \"\n                                )\n                              ])\n                            ]\n                          },\n                          proxy: true\n                        },\n                        {\n                          key: \"content\",\n                          fn: function() {\n                            return [\n                              _c(\"ul\", { staticClass: \"pl-3\" }, [\n                                _c(\"li\", [\n                                  _vm._v(\n                                    _vm._s(\n                                      _vm.$translate(\n                                        \"Ceres::Template.regPasswordHintLength\"\n                                      )\n                                    )\n                                  )\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"li\", [\n                                  _vm._v(\n                                    _vm._s(\n                                      _vm.$translate(\n                                        \"Ceres::Template.regPasswordHintDigit\"\n                                      )\n                                    )\n                                  )\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"li\", [\n                                  _vm._v(\n                                    _vm._s(\n                                      _vm.$translate(\n                                        \"Ceres::Template.regPasswordHintChar\"\n                                      )\n                                    )\n                                  )\n                                ])\n                              ])\n                            ]\n                          },\n                          proxy: true\n                        }\n                      ],\n                      null,\n                      false,\n                      303377206\n                    )\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"label\", { attrs: { for: \"new-password-\" + _vm._uid } }, [\n                    _vm._v(\n                      _vm._s(_vm.$translate(\"Ceres::Template.regPassword\")) +\n                        \"*\"\n                    )\n                  ])\n                ],\n                1\n              )\n            ])\n          : _vm._e(),\n        _vm._v(\" \"),\n        !_vm.guestMode\n          ? _c(\"div\", { staticClass: \"col-sm-6 input-unit-group\" }, [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"input-unit\",\n                  class: { \"no-bottom\": _vm.modalElement },\n                  attrs: { \"data-validate\": \"ref\" }\n                },\n                [\n                  _c(\"input\", {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.passwordRepeat,\n                        expression: \"passwordRepeat\"\n                      }\n                    ],\n                    attrs: {\n                      type: \"password\",\n                      name: \"password-repeat\",\n                      autocomplete: \"new-password\",\n                      id: \"new-password-repeat-\" + _vm._uid,\n                      \"data-validate-ref\": \"#new-password-\" + _vm._uid,\n                      \"data-testing\": \"repeat-password-register\"\n                    },\n                    domProps: { value: _vm.passwordRepeat },\n                    on: {\n                      input: function($event) {\n                        if ($event.target.composing) {\n                          return\n                        }\n                        _vm.passwordRepeat = $event.target.value\n                      }\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"label\",\n                    { attrs: { for: \"new-password-repeat-\" + _vm._uid } },\n                    [\n                      _vm._v(\n                        _vm._s(\n                          _vm.$translate(\"Ceres::Template.regRepeatPassword\")\n                        ) + \"*\"\n                      )\n                    ]\n                  )\n                ]\n              )\n            ])\n          : _vm._e(),\n        _vm._v(\" \"),\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.honeypot,\n              expression: \"honeypot\"\n            }\n          ],\n          staticClass: \"honey\",\n          attrs: {\n            type: \"text\",\n            name: \"username\",\n            autocomplete: \"new-password\",\n            tabindex: \"-1\"\n          },\n          domProps: { value: _vm.honeypot },\n          on: {\n            input: function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.honeypot = $event.target.value\n            }\n          }\n        }),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"col-12\" },\n          [\n            !_vm.isSimpleRegistration\n              ? _c(\"address-input-group\", {\n                  attrs: {\n                    template: \"#vue-address-input-group\",\n                    \"address-type\": \"1\",\n                    value: _vm.billingAddress,\n                    \"optional-address-fields\": _vm.shownFields,\n                    \"required-address-fields\": _vm.requiredFields,\n                    \"default-salutation\": _vm.defaultSalutation\n                  },\n                  on: {\n                    input: function($event) {\n                      return _vm.setAddressDataField($event)\n                    }\n                  },\n                  scopedSlots: _vm._u(\n                    [\n                      {\n                        key: \"custom-address-fields\",\n                        fn: function() {\n                          return [_vm._t(\"custom-address-fields\")]\n                        },\n                        proxy: true\n                      }\n                    ],\n                    null,\n                    true\n                  )\n                })\n              : _vm._e()\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _vm.enableConfirmingPrivacyPolicy\n          ? _c(\n              \"div\",\n              { staticClass: \"col-12\" },\n              [\n                _c(\"accept-privacy-policy-check\", {\n                  staticClass: \"mt-3 mb-0\",\n                  attrs: { \"show-error\": _vm.privacyPolicyShowError },\n                  on: {\n                    input: function($event) {\n                      return _vm.privacyPolicyValueChanged($event)\n                    }\n                  },\n                  model: {\n                    value: _vm.privacyPolicyAccepted,\n                    callback: function($$v) {\n                      _vm.privacyPolicyAccepted = $$v\n                    },\n                    expression: \"privacyPolicyAccepted\"\n                  }\n                })\n              ],\n              1\n            )\n          : _vm._e()\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"border-top mt-2 text-right\" },\n        [\n          _vm._t(\"extend-overlay-buttons\"),\n          _vm._v(\" \"),\n          _c(\n            \"button\",\n            {\n              staticClass: \"btn btn-appearance btn-primary btn-medium mt-3\",\n              class: _vm.buttonSizeClass,\n              attrs: {\n                disabled: _vm.isDisabled,\n                \"data-testing\": \"register-submit\"\n              }\n            },\n            [\n              _vm._v(\n                \"\\n            \" +\n                  _vm._s(_vm.$translate(\"Ceres::Template.regRegister\")) +\n                  \"\\n            \"\n              ),\n              _c(\"icon\", {\n                staticClass: \"default-float\",\n                attrs: { icon: \"user-plus\", loading: _vm.isDisabled }\n              })\n            ],\n            1\n          )\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      !!_vm.googleRecaptchaApiKey &&\n      (_vm.modalShown || !_vm.isSimpleRegistration)\n        ? _c(\"recaptcha\")\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AcceptPrivacyPolicyCheck.vue?vue&type=template&id=b37bfc36&\"\nimport script from \"./AcceptPrivacyPolicyCheck.vue?vue&type=script&lang=js&\"\nexport * from \"./AcceptPrivacyPolicyCheck.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\JVolke\\\\Documents\\\\GitHub\\\\plugin-ceres\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('b37bfc36')) {\n      api.createRecord('b37bfc36', component.options)\n    } else {\n      api.reload('b37bfc36', component.options)\n    }\n    module.hot.accept(\"./AcceptPrivacyPolicyCheck.vue?vue&type=template&id=b37bfc36&\", function () {\n      api.rerender('b37bfc36', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/customer/AcceptPrivacyPolicyCheck.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcceptPrivacyPolicyCheck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcceptPrivacyPolicyCheck.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcceptPrivacyPolicyCheck.vue?vue&type=template&id=b37bfc36&\"","import { render, staticRenderFns } from \"./Registration.vue?vue&type=template&id=660f5e28&\"\nimport script from \"./Registration.vue?vue&type=script&lang=js&\"\nexport * from \"./Registration.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\JVolke\\\\Documents\\\\GitHub\\\\plugin-ceres\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('660f5e28')) {\n      api.createRecord('660f5e28', component.options)\n    } else {\n      api.reload('660f5e28', component.options)\n    }\n    module.hot.accept(\"./Registration.vue?vue&type=template&id=660f5e28&\", function () {\n      api.rerender('660f5e28', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/customer/Registration.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Registration.vue?vue&type=template&id=660f5e28&\""],"sourceRoot":""}